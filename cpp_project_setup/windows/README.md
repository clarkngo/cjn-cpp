# Windows C++ Project Setup in VS Code
## Initial Setup
### Installing C++ extension for VS Code
1)	Open your VS Code. On the left side bar, click Extensions Icon. A search field will pop up, type c++ in the search field then hit Enter. A list will populate below the search field. Click C/C++ then a description on the right will appear. Click Install.

<img src="images/01.png" width="800" height="500"/>

Working in the project folder

1)	Open VS Code.

<img src="images/02.png" width="800" height="500"/>

2)	Go to the project folder: CS555_FALL_2019/IN/FirstnameLastname/

If you are an online student:
Open CS555_Fall_2019/ON/FirstnameLastname. ( File > Open )

If you are an onsite student:
Open CS555_Fall_2019/IN/FirstnameLastname. ( File > Open )

3)	Create a folder Module1 and go inside that folder.
```
mkdir Module1
cd Module1
```
<img src="images/03.png" width="700" height="100"/>

1)	Go to CS555_FALL_2019/yourfirstname-lastname/Module1. Open your VS Code with Module1 project folder. You can use the command below or open the folder using Step 2.
```
code .
```
### For Windows users

Full installation reference: https://code.visualstudio.com/docs/cpp/config-mingw

1)	Go to mingw-w64 link: http://mingw-w64.org/doku.php/download/mingw-builds.

2)	Click Sourceforge.

<img src="images/04.png" width="800" height="500"/>

3)	Run the installation.

<img src="images/05.png" width="800" height="500"/>

4)	Click Next.

<img src="images/06.png" width="800" height="500"/>

5)	The default path would be generated by the installation wizard. We have to edit the Destination Folder and delete Program Files (x86)\.

<img src="images/07.png" width="700" height="500"/>

<img src="images/08.png" width="700" height="500"/>

6)	Click Finish.

<img src="images/09.png" width="700" height="500"/>

7)	Locate your compiler. Got to This PC > Local Disk (C:) > mingw-w64 > i686-8.1.0-posix-dwarf-rt_v6-rev0 > mingw32 > bin

<img src="images/10.png" width="800" height="400"/>

8)	Right click on bin in the address bar and choose Copy Address.

<img src="images/11.png" width="800" height="300"/>

9)	Find Edit system environment variables

<img src="images/12.png" width="300" height="500"/>

10)	Under user variables, click Path and click Editâ€¦

<img src="images/13.png" width="400" height="500"/>

11)	Click New and add the path of your compiler. You should have a similar output as below.

<img src="images/14.png" width="400" height="500"/>

Open VS Code

1)	Open your VS Code.
2)	Click Open Folder.

If you are an online student:
Open CS555_Fall_2019/ON/Yourname/Module1. ( File > Open )

If you are an onsite student:
Open CS555_Fall_2019/IN/Yourname/Module1. ( File > Open )

### Our first Hello

1)	Create a new file by right clicking anywhere below the files.

<img src="images/15.png" width="400" height="500"/>

2)	Create a hello.cpp file. Please add the following code:

<img src="images/16.png" width="500" height="300"/>

3)	In the VS Code menu, click Terminal > Run Build Task.

<img src="images/17.png" width="800" height="500"/>

You should see this output:

<img src="images/18.png" width="800" height="200"/>

Click anywhere in the terminal to close the message.

New files will be created.

<img src="images/19.png" width="300" height="250"/>

4)	Run the compiled c++ file (.exe)

Powershell:
```
./hello.exe
```
Command Prompt:
```
hello.exe
```

<img src="images/20.png" width="800" height="150"/>


## Workflow

1 -	Copy .vscode and add to your project folder

2 -	Modify `launch.json`. Your program path should be `${workspaceFolder}/yourfilename.out`. Hit save.

3 -	Modify `tasks.json`. Your arguments should include `yourfilename.cpp` and `yourfilename.out`. Hit save.

## Step by Step
- Click `.vscode.zip`
- Click Download
- Choose the location of your project folder

Sample working C++ project directory structure:
```
| hello
|_ .vscode
 |_ c_cpp_properties.json
 |_ launch.json
 |_ tasks.json
|_ hello.cpp
```

Note: You have to have `.vscode` folder and files in every C++ project folder.

## Modifying for Project Use
- To easily use this, just replace `filename` with your own, i.e. change to `hello`.
- In `launch.json`:
```
            "program": "${workspaceFolder}/filename.exe"
```
- In `tasks.json`:
```
            "args": [
                "-g",
                "-o",
                "filename",
                "filename.cpp"
```

## Contents of the Files

The following files are included in .vscode:

`c_cpp_properties.json`

```
{
    "configurations": [
        {
            "name": "Win32",
            "includePath": [
                "${workspaceFolder}/**"
            ],
            "defines": [
                "_DEBUG",
                "UNICODE",
                "_UNICODE"
            ],
            "intelliSenseMode": "gcc-x64",
            "compilerPath": "C:\\mingw-w64\\i686-8.1.0-posix-dwarf-rt_v6-rev0\\mingw32\\bin\\g++.exe"
        }
    ],
    "version": 4
}
```

`launch.json`

```
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "(gdb) Launch",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/filename.exe",
            "args": [],
            "stopAtEntry": true,
            "cwd": "${workspaceFolder}",
            "environment": [],
            "externalConsole": true,
            "MIMode": "gdb",
            "miDebuggerPath": "C:\\mingw-w64\\i686-8.1.0-posix-dwarf-rt_v6-rev0\\mingw32\\bin\\gdb.exe",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                }
            ]
        }
    ]
}
```

`tasks.json`

```
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build hello world",
            "type": "shell",
            "command": "g++",
            "args": [
                "-g",
                "-o",
                "filename",
                "filename.cpp"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        }
    ]
}
```
